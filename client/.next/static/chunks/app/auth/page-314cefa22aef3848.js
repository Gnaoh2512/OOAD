(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{25:e=>{e.exports={container:"page_container__Kl6ii",loginForm:"page_loginForm__Ff9QI",links:"page_links__wfrX5",linkText:"page_linkText__rFMiI",warningText:"page_warningText__S6OQW",inputWrapper:"page_inputWrapper__GfNnS",toggle:"page_toggle__Fclgi"}},485:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:a="GET",body:r,headers:n={},responseType:i="json"}=t,s={method:a,headers:{"Content-Type":"application/json",...n},...r&&{body:JSON.stringify(r)},credentials:"include"},l=await fetch(e,s);if(!l.ok)throw Error("Failed to fetch: ".concat(l.statusText));if("text"===i)return l.text();let o=await l.text();return o?JSON.parse(o):{}}},1239:(e,t,a)=>{Promise.resolve().then(a.bind(a,1579))},1579:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(5155),n=a(2115),i=a(25),s=a.n(i),l=a(485);let o=function(){let[e,t]=(0,n.useState)("login"),[a,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[g,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(""),p=/^\S+@\S+\.\S+$/.test(o.trim()),m=g.length>=1,x="register"!==e||a.trim().length>0,_="register"!==e||g===u,w=!o||!p||!m||!_||!x,f=async t=>{t.preventDefault();try{if("login"===e){let e=await (0,l.A)("".concat("http://localhost:5000","/auth/login"),{method:"POST",body:{email:o.trim(),password:g}});if(console.log(e),e){window.location.href="/",d(""),h("");return}alert("Failed to login")}else if("register"===e){if(!_)return void alert("Passwords do not match.");if((await (0,l.A)("".concat("http://localhost:5000","/auth/register"),{method:"POST",body:{name:a.trim(),email:o.trim(),password:g}})).user){window.location.href="/",d(""),h("");return}alert("Failed to register")}}catch(e){alert(e)}};return(0,r.jsx)("div",{className:s().container,children:(0,r.jsxs)("form",{onSubmit:f,className:s().loginForm,children:[(0,r.jsx)("h2",{children:"login"===e?"Login":"Register"}),"register"===e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"text",placeholder:"Name",value:a,onChange:e=>i(e.target.value),required:!0}),!x&&(0,r.jsx)("p",{className:s().warningText,children:"Please enter your name."})]}),(0,r.jsx)("input",{type:"email",placeholder:"Email",value:o,onChange:e=>c(e.target.value),required:!0}),o&&!p&&(0,r.jsx)("p",{className:s().warningText,children:"Please enter a valid email address."}),(0,r.jsx)("input",{type:"password",placeholder:"Password",value:g,onChange:e=>d(e.target.value),required:!0}),g&&!m&&(0,r.jsx)("p",{className:s().warningText,children:"Password must be at least 1 character."}),"register"===e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"password",placeholder:"Confirm Password",value:u,onChange:e=>h(e.target.value),required:!0}),u&&!_&&(0,r.jsx)("p",{className:s().warningText,children:"Passwords do not match."})]}),(0,r.jsx)("button",{type:"submit",disabled:w,children:"login"===e?"Login":"Register"}),(0,r.jsx)("div",{className:s().links,children:"login"===e?(0,r.jsx)("span",{onClick:()=>t("register"),className:s().linkText,children:"Create Account"}):(0,r.jsx)("span",{onClick:()=>t("login"),className:s().linkText,children:"Back to Login"})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[434,441,684,358],()=>t(1239)),_N_E=e.O()}]);